var documenterSearchIndex = {"docs":
[{"location":"#Semagrams.jl","page":"Semagrams.jl","title":"Semagrams.jl","text":"","category":"section"},{"location":"#Installation:","page":"Semagrams.jl","title":"Installation:","text":"","category":"section"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"> using Pkg; Pkg.add(\"Semagrams\"); Pkg.add(\"Catlab\")\n> using Semagrams, Catlab","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"Currently Semagrams.jl only works for JupyterLab version 2 (the latest version is version 3). Therefore, you must downgrade your jupyterlab installation. Hopefully this should be fixed upstream soon: https://github.com/JuliaGizmos/WebIO.jl/pull/457.","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"If you can't figure out how to downgrade jupyterlab, then you can use the standalone version of Semagrams.jl, which serves semagrams from a standalone web server; see the rest of this guide for how to do this.","category":"page"},{"location":"#Quickstart:","page":"Semagrams.jl","title":"Quickstart:","text":"","category":"section"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"In a Jupyter notebook","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"> using Semagrams, Semagrams.Examples\n\n> p = Semagram{Petri}(PetriSema)\n\n# Edit semagram (see below) AND SAVE\n\n> get_acset(p)","category":"page"},{"location":"#Extended-Introduction","page":"Semagrams.jl","title":"Extended Introduction","text":"","category":"section"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"There are three steps to using Semagrams.","category":"page"},{"location":"#.-Prepare-schemas.","page":"Semagrams.jl","title":"1. Prepare schemas.","text":"","category":"section"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"This is the hardest part, and only has to be done when you are adding a new type of semagram; if you are using one of the semagrams supplied by this library (by using Semagrams.Examples) or another library, you can skip step 1.","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"First of all, you have to make an acset. If you don't know how to do this, I can't help you; you gotta read the Catlab docs.","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"We will use the running examples of Directed Port Graphs and Petri nets. These have the schemas","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"@present TheoryPetri(FreeSchema) begin\n    (T,S,I,O)::Ob\n    it::Hom(I,T)\n    is::Hom(I,S)\n    ot::Hom(O,T)\n    os::Hom(O,S)\nend\n\nconst Petri = CSetType(TheoryPetri)","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"and","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"@present TheoryDirectedPortGraph(FreeSchema) begin\n    (Box,IPort,OPort,Wire)::Ob\n    ibox::Hom(IPort,Box)\n    obox::Hom(OPort,Box)\n    src::Hom(Wire,OPort)\n    tgt::Hom(Wire,IPort)\nend\n\nconst DPG = CSetType(TheoryDirectedPortGraph)","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"Then you make a semagrams schema over the acset you made in step 1. The basic idea behind this is that you have to tell Semagrams.jl what role the objects in your acset play. Currently the three roles are","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"Box\nPort\nWire","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"Boxes have no outgoing morphisms (though, they can have attributes once we implement this). Ports have exactly one outgoing morphism, to a box. Wires have two outgoing morphisms, one which gives the \"source\" of the wire, and another which gives the \"target\". These outgoing morphisms can go to either ports or boxes.","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"You can designate a SVG object for each box. For instance, in a Petri net, you can make the species circles and the transitions squares. For the ports, you can designate a \"style\", which designates the placement of the ports. This can either be \"Input\", \"Output\", or \"Circular\", which places the ports vertically stacked on the left, vertically stacked on the right, and equally spaced around a circle.","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"For our two running examples, this looks like","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"@semagramschema PetriSema(TheoryPetri) begin\n    @box S Circle\n    @box T Square\n    @wire I(is,it)\n    @wire O(ot,os)\nend","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"@semagramschema DirectedPortGraphSema(TheoryDirectedPortGraph) begin\n    @box Box Square\n    @port IPort(ibox) \"Input\"\n    @port OPort(obox) \"Output\"\n    @wire Wire(src,tgt)\nend","category":"page"},{"location":"#.-Create-and-edit-the-semagram.","page":"Semagrams.jl","title":"2. Create and edit the semagram.","text":"","category":"section"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"First you have to create the semagram.","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"my_awesome_petri_net = Semagram{Petri}(PetriSema)","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"or","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"my_awesome_dpg = Semagram{DPG}(DirectedPortGraphSema)","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"When you run this line in a Jupyter notebook, the editor should pop up as the result IF you have WebIO properly installed (which actually somewhat tricky, and WebIO is not supported for the latest version of Jupyter yet).","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"If you are running in the Julia REPL, you have to do the following to interact with the Semagram:","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"serve_semagram(my_awesome_semagram)","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"By default, this will open a server on port 8000, you can change this port by passing in a port keyword argument to serve_semagram. It will also try to open a browser pointing to http://localhost:$port (http://localhost:8000 by default).","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"Currently the editor is very barebones; you have to refer here for the keybindings.","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"b adds a box under the cursor. If there are multiple types of box that one can add, it will pop up a modal window which allows you to select the type by typing a number.\np adds a port to the box that the cursor is hovering over. If there are multiple types of port, then again a window will pop up which allows you to select the type of port that you want to add.\ns sets a port or box to be the current \"source\". When you select the source, it should turn light blue.\nt sets a port or box to be the current \"target\". When you select the target it should turn light red.\nw adds a new wire, using the ports/boxes selected as source and target. If there is no wire type compatible with the source/target pair, then this will remove the selection of source/target and not add a wire. If there is more than one wire type that could be added, it will pop up a modal asking you which type of wire you wish to add.\nd deletes the port or box under the cursor. Note: there is currently no way to delete wires other than deleting their source/target. Will fix this soon.\nS saves the semagram, which means that it sends the semagram from javascript back to Julia. You must do this before going on to the next step. I should probably add an indicator which says whether or not the latest changes to the semagram have been saved...\nD prints the current value of the semagram to the javascript console. Useful for debugging.","category":"page"},{"location":"#.-Profit","page":"Semagrams.jl","title":"3. Profit","text":"","category":"section"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"Once you have editted (AND SAVED) your semagram, you can get an acset out of it using","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"get_acset(my_awesome_petri_net)","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"or","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"get_acset(my_awesome_dpg)","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"This will return the current value of the semagram as an acset. Then you can do all the acset-y good things that one does with acsets.","category":"page"},{"location":"","page":"Semagrams.jl","title":"Semagrams.jl","text":"Note: currently you can take the acset out of the semagram, but you can't put it back in. It's actually non-trivial to do this, because automatic layout is tricky... This is a big TODO.","category":"page"}]
}
